<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="include/style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="SMTLIBSolver.html">
<link rel="next" href="SolverDriver.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Log" rel="Chapter" href="Log.html">
<link title="Event" rel="Chapter" href="Event.html">
<link title="Strategy" rel="Chapter" href="Strategy.html">
<link title="Analysis" rel="Chapter" href="Analysis.html">
<link title="Flags" rel="Chapter" href="Flags.html">
<link title="InvarManager" rel="Chapter" href="InvarManager.html">
<link title="Kind2" rel="Chapter" href="Kind2.html">
<link title="InputSystem" rel="Chapter" href="InputSystem.html">
<link title="Eval" rel="Chapter" href="Eval.html">
<link title="Ident" rel="Chapter" href="Ident.html">
<link title="Ltree" rel="Chapter" href="Ltree.html">
<link title="Model" rel="Chapter" href="Model.html">
<link title="Scope" rel="Chapter" href="Scope.html">
<link title="Simplify" rel="Chapter" href="Simplify.html">
<link title="StateVar" rel="Chapter" href="StateVar.html">
<link title="Symbol" rel="Chapter" href="Symbol.html">
<link title="TermAttr" rel="Chapter" href="TermAttr.html">
<link title="Term" rel="Chapter" href="Term.html">
<link title="Type" rel="Chapter" href="Type.html">
<link title="UfSymbol" rel="Chapter" href="UfSymbol.html">
<link title="Var" rel="Chapter" href="Var.html">
<link title="Property" rel="Chapter" href="Property.html">
<link title="SubSystem" rel="Chapter" href="SubSystem.html">
<link title="TransSys" rel="Chapter" href="TransSys.html">
<link title="Actlit" rel="Chapter" href="Actlit.html">
<link title="Base" rel="Chapter" href="Base.html">
<link title="Compress" rel="Chapter" href="Compress.html">
<link title="Step" rel="Chapter" href="Step.html">
<link title="Clause" rel="Chapter" href="Clause.html">
<link title="CooperQE" rel="Chapter" href="CooperQE.html">
<link title="Extract" rel="Chapter" href="Extract.html">
<link title="IC3" rel="Chapter" href="IC3.html">
<link title="Poly" rel="Chapter" href="Poly.html">
<link title="Presburger" rel="Chapter" href="Presburger.html">
<link title="QE" rel="Chapter" href="QE.html">
<link title="InvGenMiner" rel="Chapter" href="InvGenMiner.html">
<link title="InvGenDomain" rel="Chapter" href="InvGenDomain.html">
<link title="InvGenGraph" rel="Chapter" href="InvGenGraph.html">
<link title="InvGen" rel="Chapter" href="InvGen.html">
<link title="LockStepDriver" rel="Chapter" href="LockStepDriver.html">
<link title="InputParser" rel="Chapter" href="InputParser.html">
<link title="Interpreter" rel="Chapter" href="Interpreter.html">
<link title="LustreLexer" rel="Chapter" href="LustreLexer.html">
<link title="LustreParser" rel="Chapter" href="LustreParser.html">
<link title="LustreAst" rel="Chapter" href="LustreAst.html">
<link title="LustreIdent" rel="Chapter" href="LustreIdent.html">
<link title="LustreIndex" rel="Chapter" href="LustreIndex.html">
<link title="LustreExpr" rel="Chapter" href="LustreExpr.html">
<link title="LustreNode" rel="Chapter" href="LustreNode.html">
<link title="LustreContext" rel="Chapter" href="LustreContext.html">
<link title="LustreDeclarations" rel="Chapter" href="LustreDeclarations.html">
<link title="LustreSimplify" rel="Chapter" href="LustreSimplify.html">
<link title="LustreSlicing" rel="Chapter" href="LustreSlicing.html">
<link title="LustreTransSys" rel="Chapter" href="LustreTransSys.html">
<link title="LustreInput" rel="Chapter" href="LustreInput.html">
<link title="LustrePath" rel="Chapter" href="LustrePath.html">
<link title="NativeInput" rel="Chapter" href="NativeInput.html">
<link title="Pretty" rel="Chapter" href="Pretty.html">
<link title="SMTExpr" rel="Chapter" href="SMTExpr.html">
<link title="SMTLIBSolver" rel="Chapter" href="SMTLIBSolver.html">
<link title="SMTSolver" rel="Chapter" href="SMTSolver.html">
<link title="SolverDriver" rel="Chapter" href="SolverDriver.html">
<link title="SolverResponse" rel="Chapter" href="SolverResponse.html">
<link title="SolverSig" rel="Chapter" href="SolverSig.html">
<link title="CVC4Driver" rel="Chapter" href="CVC4Driver.html">
<link title="GenericSMTLIBDriver" rel="Chapter" href="GenericSMTLIBDriver.html">
<link title="Z3Driver" rel="Chapter" href="Z3Driver.html">
<link title="Yices2SMT2Driver" rel="Chapter" href="Yices2SMT2Driver.html">
<link title="YicesDriver" rel="Chapter" href="YicesDriver.html">
<link title="YicesLexer" rel="Chapter" href="YicesLexer.html">
<link title="YicesNative" rel="Chapter" href="YicesNative.html">
<link title="YicesResponse" rel="Chapter" href="YicesResponse.html">
<link title="Debug" rel="Chapter" href="Debug.html">
<link title="Decimal" rel="Chapter" href="Decimal.html">
<link title="Hashcons" rel="Chapter" href="Hashcons.html">
<link title="HString" rel="Chapter" href="HString.html">
<link title="HStringSExpr" rel="Chapter" href="HStringSExpr.html">
<link title="Kind2Config" rel="Chapter" href="Kind2Config.html">
<link title="Lib" rel="Chapter" href="Lib.html">
<link title="Messaging" rel="Chapter" href="Messaging.html">
<link title="Numeral" rel="Chapter" href="Numeral.html">
<link title="SExprBase" rel="Chapter" href="SExprBase.html">
<link title="SExprLexer" rel="Chapter" href="SExprLexer.html">
<link title="Stat" rel="Chapter" href="Stat.html">
<link title="TermLib" rel="Chapter" href="TermLib.html">
<link title="Trie" rel="Chapter" href="Trie.html">
<link title="Version" rel="Chapter" href="Version.html">
<link title="LustreToRust" rel="Chapter" href="LustreToRust.html">
<link title="TestgenDF" rel="Chapter" href="TestgenDF.html">
<link title="TestgenIO" rel="Chapter" href="TestgenIO.html">
<link title="TestgenModes" rel="Chapter" href="TestgenModes.html">
<link title="TestgenSolver" rel="Chapter" href="TestgenSolver.html">
<link title="TestgenStrategies" rel="Chapter" href="TestgenStrategies.html">
<link title="TestgenTree" rel="Chapter" href="TestgenTree.html">
<link title="TestgenLib" rel="Chapter" href="TestgenLib.html"><link title="Creating and finalizing a solver instance" rel="Section" href="#1_Creatingandfinalizingasolverinstance">
<link title="Declarations" rel="Section" href="#1_Declarations">
<link title="Primitives" rel="Section" href="#1_Primitives">
<link title="Higher-level functions" rel="Section" href="#1_Higherlevelfunctions">
<link title="Utility functions" rel="Section" href="#1_Utilityfunctions">
<title>Kind 2 Developer's Documentation : SMTSolver</title>
</head>
<body>
<div class="navbar"><a class="pre" href="SMTLIBSolver.html" title="SMTLIBSolver">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="SolverDriver.html" title="SolverDriver">Next</a>
</div>
<h1>Module <a href="type_SMTSolver.html">SMTSolver</a></h1>

<pre><span class="keyword">module</span> SMTSolver: <code class="code"><span class="keyword">sig</span></code> <a href="SMTSolver.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
High-level methods for an SMT solver<br>
<b>Author(s):</b> Alain Mebsout, Christoph Sticksel<br>
</div>
<hr width="100%">

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> </pre>
<div class="info ">
Type of a solver instance<br>
</div>


<pre><span id="EXCEPTIONUnknown"><span class="keyword">exception</span> Unknown</span></pre>
<div class="info ">
Exception raised when the solver returns "unknown" to a check-sat.<br>
</div>
<br>
<h1 id="1_Creatingandfinalizingasolverinstance">Creating and finalizing a solver instance</h1><br>

<pre><span id="VALcreate_instance"><span class="keyword">val</span> create_instance</span> : <code class="type">?produce_assignments:bool -><br>       ?produce_proofs:bool -><br>       ?produce_cores:bool -><br>       ?produce_interpolants:bool -><br>       <a href="TermLib.html#TYPElogic">TermLib.logic</a> -> <a href="Flags.Smt.html#TYPEsolver">Flags.Smt.solver</a> -> <a href="SMTSolver.html#TYPEt">t</a></code></pre><div class="info ">
Create a new instance of an SMT solver of the given kind and with
    the given flags<br>
</div>

<pre><span id="VALdelete_instance"><span class="keyword">val</span> delete_instance</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
Delete an instance of an SMT solver<br>
</div>

<pre><span id="VALid_of_instance"><span class="keyword">val</span> id_of_instance</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> int</code></pre><div class="info ">
Return the unique identifier of the solver instance<br>
</div>
<br>
<h1 id="1_Declarations">Declarations</h1><br>

<pre><span id="VALdeclare_sort"><span class="keyword">val</span> declare_sort</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> <a href="Type.html#TYPEt">Type.t</a> -> unit</code></pre><div class="info ">
Define uninterpreted sort<br>
</div>

<pre><span id="VALdeclare_fun"><span class="keyword">val</span> declare_fun</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> <a href="UfSymbol.html#TYPEt">UfSymbol.t</a> -> unit</code></pre><div class="info ">
Define uninterpreted symbol<br>
</div>

<pre><span id="VALdefine_fun"><span class="keyword">val</span> define_fun</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> <a href="UfSymbol.html#TYPEt">UfSymbol.t</a> -> <a href="Var.html#TYPEt">Var.t</a> list -> <a href="Term.html#TYPEt">Term.t</a> -> unit</code></pre><div class="info ">
Define uninterpreted symbol<br>
</div>
<br>
<h1 id="1_Primitives">Primitives</h1><br>

<pre><span id="VALassert_expr"><span class="keyword">val</span> assert_expr</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> <a href="SMTExpr.html#TYPEt">SMTExpr.t</a> -> unit</code></pre><div class="info ">
Assert an SMT expression in the current context<br>
</div>

<pre><span id="VALassert_term"><span class="keyword">val</span> assert_term</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> <a href="Term.html#TYPEt">Term.t</a> -> unit</code></pre><div class="info ">
Convert a term to an SMT expression and assert<br>
</div>

<pre><span id="VALassert_named_term"><span class="keyword">val</span> assert_named_term</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> <a href="SMTExpr.html#TYPEt">SMTExpr.t</a> -> unit</code></pre><div class="info ">
Name a term, convert a term to an SMT expression and assert<br>
</div>

<pre><span id="VALassert_named_term_wr"><span class="keyword">val</span> assert_named_term_wr</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> <a href="SMTExpr.html#TYPEt">SMTExpr.t</a> -> string</code></pre><div class="info ">
Name a term, convert a term to an SMT expression and assert, and return the name<br>
</div>

<pre><span id="VALpush"><span class="keyword">val</span> push</span> : <code class="type">?n:int -> <a href="SMTSolver.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
Push a new scope to the context stack<br>
</div>

<pre><span id="VALpop"><span class="keyword">val</span> pop</span> : <code class="type">?n:int -> <a href="SMTSolver.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
Pop one scope from the context stack<br>
</div>

<pre><span id="VALcheck_sat"><span class="keyword">val</span> check_sat</span> : <code class="type">?timeout:int -> <a href="SMTSolver.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
Check satisfiability of the current context 
<p>

    The optional parameter <code class="code">timeout</code> limits the maximum runtime to
    the given number of milliseconds.<br>
</div>

<pre><span id="VALget_model"><span class="keyword">val</span> get_model</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> <a href="Model.html#TYPEt">Model.t</a></code></pre><div class="info ">
Return a model of the current context if satisfiable<br>
</div>

<pre><span id="VALget_var_values"><span class="keyword">val</span> get_var_values</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> <a href="Var.html#TYPEt">Var.t</a> list -> <a href="Model.html#TYPEt">Model.t</a></code></pre><div class="info ">
Return a values of the terms in the current context if
    satisfiable<br>
</div>

<pre><span id="VALget_term_values"><span class="keyword">val</span> get_term_values</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> <a href="Term.html#TYPEt">Term.t</a> list -> (<a href="Term.html#TYPEt">Term.t</a> * <a href="Term.html#TYPEt">Term.t</a>) list</code></pre><div class="info ">
Return a values of the terms in the current context if
    satisfiable<br>
</div>

<pre><span id="VALget_unsat_core_of_names"><span class="keyword">val</span> get_unsat_core_of_names</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> <a href="Term.html#TYPEt">Term.t</a> list</code></pre><div class="info ">
Return an unsatisfiable core of named expressions if the current
    context is unsatisfiable<br>
</div>

<pre><span id="VALget_unsat_core_of_names"><span class="keyword">val</span> get_unsat_core_of_names</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> <a href="Term.html#TYPEt">Term.t</a> list</code></pre><div class="info ">
Interpret unsatisfiable core as names and return corresponing terms<br>
</div>

<pre><span id="VALget_unsat_core_lits"><span class="keyword">val</span> get_unsat_core_lits</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> <a href="Term.html#TYPEt">Term.t</a> list</code></pre><div class="info ">
Interpret unsatisfiable core as literals and return as terms<br>
</div>
<br>
<h1 id="1_Higherlevelfunctions">Higher-level functions</h1><br>

<pre><span id="VALcheck_sat_assuming"><span class="keyword">val</span> check_sat_assuming</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -><br>       (<a href="SMTSolver.html#TYPEt">t</a> -> 'a) -> (<a href="SMTSolver.html#TYPEt">t</a> -> 'a) -> <a href="Term.html#TYPEt">Term.t</a> list -> 'a</code></pre><div class="info ">
Checks satisfiability of the current context assuming the given
    list of literals, and evaluate one of two continuation functions
    depending on the result
<p>

    <code class="code">check_sat_assuming s t f l</code> assumes each of the literals in <code class="code">l</code>
    to be true, and checks satisfiablilty of the context of the SMT
    solver instance <code class="code">s</code>. If the solver returns satisfiable, the
    continuation <code class="code">t</code> is evaluated, and if the solver returns
    unsatisfiable, the continuation <code class="code">f</code> is evaluated.
<p>

    <b>Important:</b> If a solver does not support check-sat with
    assumptions, it will be simulated by checking satisfiability on a
    new context level with the literals asserted. This context is
    removed after the continuations have been evaluated, hence all
    operations performed in the continuations affecting the context
    will be undone upon return from this function. Do not rely on
    context-modifying operations in the continuations being
    persistent, and keep the continuations as short as possible.
<p>

    The list <code class="code">l</code> should contain only positive Boolean constants,
    although this is not enforced. If the solver does not support the
    <code class="code">check-sat-assuming</code> command it is simulated by asserting the
    literals on a new context.<br>
</div>

<pre><code><span id="TYPEsat_or_unsat"><span class="keyword">type</span> <code class="type">('a, 'b)</code> sat_or_unsat</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTsat_or_unsat.Sat"><span class="constructor">Sat</span></span> <span class="keyword">of</span> <code class="type">'a</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTsat_or_unsat.Unsat"><span class="constructor">Unsat</span></span> <span class="keyword">of</span> <code class="type">'b</code></code></td>

</tr></table>

<div class="info ">
Alternative between type 'a and 'b<br>
</div>


<pre><span id="VALcheck_sat_assuming_ab"><span class="keyword">val</span> check_sat_assuming_ab</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -><br>       (<a href="SMTSolver.html#TYPEt">t</a> -> 'a) -><br>       (<a href="SMTSolver.html#TYPEt">t</a> -> 'b) -> <a href="Term.html#TYPEt">Term.t</a> list -> ('a, 'b) <a href="SMTSolver.html#TYPEsat_or_unsat">sat_or_unsat</a></code></pre><div class="info ">
Check satisfiability under assumptions as with
    <a href="SMTSolver.html#VALcheck_sat_assuming"><code class="code"><span class="constructor">SMTSolver</span>.check_sat_assuming</code></a>, but the two continuations can return
    different values that are wrappen in the <a href="SMTSolver.html#TYPEsat_or_unsat"><code class="code"><span class="constructor">SMTSolver</span>.sat_or_unsat</code></a> type<br>
</div>

<pre><span id="VALcheck_sat_assuming_tf"><span class="keyword">val</span> check_sat_assuming_tf</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> <a href="Term.html#TYPEt">Term.t</a> list -> bool</code></pre><div class="info ">
Check satisfiability under assumptions as with
    <a href="SMTSolver.html#VALcheck_sat_assuming"><code class="code"><span class="constructor">SMTSolver</span>.check_sat_assuming</code></a>, but return <code class="code"><span class="keyword">true</span></code> or <code class="code"><span class="keyword">false</span></code> without
    continuations as arguments<br>
</div>

<pre><span id="VALexecute_custom_command"><span class="keyword">val</span> execute_custom_command</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -><br>       string -> <a href="SMTExpr.html#TYPEcustom_arg">SMTExpr.custom_arg</a> list -> int -> <a href="SolverResponse.html#TYPEcustom_response">SolverResponse.custom_response</a></code></pre><div class="info ">
Execute the a custom command with the given arguments, and expect
    the given number of S-expressions as a result<br>
</div>

<pre><span id="VALexecute_custom_check_sat_command"><span class="keyword">val</span> execute_custom_check_sat_command</span> : <code class="type">string -> <a href="SMTSolver.html#TYPEt">t</a> -> <a href="SolverResponse.html#TYPEcheck_sat_response">SolverResponse.check_sat_response</a></code></pre><div class="info ">
Execute the a custom command in place of check-sat<br>
</div>
<br>
<h1 id="1_Utilityfunctions">Utility functions</h1><br>

<pre><span id="VALconverter"><span class="keyword">val</span> converter</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> (module SMTExpr.Conv)</code></pre>
<pre><span id="VALkind"><span class="keyword">val</span> kind</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> <a href="Flags.Smt.html#TYPEsolver">Flags.Smt.solver</a></code></pre>
<pre><span id="VALtrace_comment"><span class="keyword">val</span> trace_comment</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> string -> unit</code></pre><div class="info ">
Output a comment into the trace<br>
</div>

<pre><span id="VALget_interpolants"><span class="keyword">val</span> get_interpolants</span> : <code class="type"><a href="SMTSolver.html#TYPEt">t</a> -> <a href="SMTExpr.html#TYPEcustom_arg">SMTExpr.custom_arg</a> list -> <a href="SMTExpr.html#TYPEt">SMTExpr.t</a> list</code></pre></body></html>